<h2>My Software</h2>
<nz-divider></nz-divider>

<button nz-button nzType="primary" (click)="createSoftware = true">Create New</button> <br /> <br />

<nz-table #softwareTable [nzData]="software" class="table-container">
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>License Keys</th>
      <th>Action</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let data of softwareTable.data">
      <td>{{data.name}}</td>
      <td>{{data.description}}</td>
      <td>{{data.licenses}}</td>
      <td>
        <a (click)="selectSoftware(data)">Create License</a>
        <nz-divider nzType="vertical"></nz-divider>
        <a [routerLink]="'/software/' + data.id">View</a>
      </td>
    </tr>
  </tbody>
</nz-table>

<nz-modal [(nzVisible)]="createSoftware" nzTitle="Create Software" (nzOnCancel)="createSoftware = false" (nzOnOk)="addSoftware()">
  <ng-container *nzModalContent>
    <label>Software Name</label>
    <input type="text" nz-input [(ngModel)]="newSoftware.name" /> <br />
    <label>Description</label>
    <textarea nz-input [(ngModel)]="newSoftware.description"></textarea>
  </ng-container>
</nz-modal>

<nz-modal [(nzVisible)]="createLicense" nzTitle="Create New License Key" (nzOnCancel)="createLicense = false" (nzOnOk)="addLicense()" [nzOkLoading]="adding">
  <ng-container *nzModalContent>
    <div class="grid-2">
      <div>
        <label>Expiration Date</label> <br />
        <nz-date-picker [(ngModel)]="newLicense.expiresOn" [nzFormat]="'MM/dd/yyyy'"></nz-date-picker>
      </div>
      <div>
        <label>Email Address</label>
        <input type="text" nz-input [(ngModel)]="newLicense.email" /> 
      </div>
    </div>
    <label>Notes</label>
    <textarea nz-input [(ngModel)]="newLicense.notes"></textarea>
  </ng-container>
</nz-modal>

